const e=require("ora"),r=require("path"),i=require("fs"),t=require("inquirer"),s=require("../../utils/index.js").readJSONFile("../config/registry.json","registry"),n=[{name:"proxy",type:"list",message:"delete a npm proxy",choices:s}];t.prompt(n).then((t=>{const{proxy:n}=t,c=s.findIndex((e=>e===n.trim())),o=e();try{const e=r.join(process.cwd(),"./config/registry.json"),t=JSON.parse(i.readFileSync(e,"utf-8"));if(1===t.registry.length)return void o.warn("the last registry is not must deleted");t.registry.splice(c,1),i.writeFileSync(e,JSON.stringify(t,null,"\t"),"utf8"),o.succeed("delete registry success")}catch(e){o.fail("delete registry failed")}}));
